{"version":3,"file":"index.js","mappings":"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","sources":["webpack://al-advogados/./src/modules/Search.js","webpack://al-advogados/external window \"jQuery\"","webpack://al-advogados/webpack/bootstrap","webpack://al-advogados/webpack/runtime/compat get default export","webpack://al-advogados/webpack/runtime/define property getters","webpack://al-advogados/webpack/runtime/hasOwnProperty shorthand","webpack://al-advogados/webpack/runtime/make namespace object","webpack://al-advogados/./src/index.js"],"sourcesContent":["// class Search {\r\n//   // 1. Describe and create/initiate our object\r\n//   constructor() {\r\n//     this.resultsDiv = document.querySelector('#search-overlay_results')\r\n//     this.openButton = document.querySelector('.js-search-trigger')\r\n//     this.closeButton = document.querySelector('.search-overlay_close')\r\n//     this.searchOverlay = document.querySelector('.search-overlay')\r\n//     this.searchField = document.querySelector('#search-term')\r\n//     this.events()\r\n//     this.isOverlayOpen = false\r\n//   }\r\n\r\n//   // 2. Events\r\n//   events() {\r\n//     console.log(this.openButton)\r\n//     console.log(this.closeButton)\r\n//     console.log(this.searchOverlay)\r\n//     console.log(this.searchField)\r\n\r\n//     this.openButton.addEventListener('click', () => this.openOverlay())\r\n//     this.closeButton.addEventListener('click', () => this.closeOverlay())\r\n//     document.addEventListener('keydown', () => this.keyPressDispatcher(e))\r\n//     this.searchField.addEventListener('keydown', () => this.typingLogic())\r\n//   }\r\n\r\n//   // 3. Methods (function, action...)\r\n//   typingLogic() {\r\n//     clearTimeout(this.typingTimer)\r\n//     this.typingTimer = setTimeout(function () {\r\n//       console.log('timeout test')\r\n//     }, 2000)\r\n//   }\r\n//   openOverlay() {\r\n//     document.querySelector('.search-overlay').classList.remove('d-none')\r\n//     //document.querySelector('.search-overlay').classList.add('d-block')\r\n//     //$('.search-overlay').removeClass('d-none')\r\n//     document.body.classList.add('body-no-scroll')\r\n//     this.isOverlayOpen = true\r\n//     alert('openOverlay')\r\n//   }\r\n\r\n//   closeOverlay() {\r\n//     document.querySelector('.search-overlay').classList.add('d-none')\r\n//     //this.searchOverlay.addClass('d-none')\r\n//     document.body.classList.remove('body-no-scroll')\r\n//     this.isOverlayOpen = false\r\n//     alert('closeOverlay')\r\n//   }\r\n\r\n//   keyPressDispatcher(e) {\r\n//     if (e.keyCode == 83 && !this.isOverlayOpen) {\r\n//       this.openOverlay()\r\n//     }\r\n//     if (e.keyCode == 27 && this.isOverlayOpen) {\r\n//       this.closeOverlay()\r\n//     }\r\n//   }\r\n// }\r\n\r\n// export default Search\r\n\r\nimport $ from 'jquery'\r\n\r\nclass Search {\r\n  // 1. describe and create/initiate our object\r\n  constructor() {\r\n    this.addSearchHTML()\r\n    this.resultsDiv = $('#search-results')\r\n    this.openButton = $('.js-search-trigger')\r\n    this.closeButton = $('.search-overlay_close')\r\n    this.searchOverlay = $('.search-overlay')\r\n    this.searchField = $('#search-term')\r\n    this.events()\r\n    this.isOverlayOpen = false\r\n    this.isSpinnerVisible = false\r\n    this.previousValue\r\n    this.typingTimer\r\n  }\r\n\r\n  // 2. events\r\n  events() {\r\n    this.openButton.on('click', this.openOverlay.bind(this))\r\n    this.closeButton.on('click', this.closeOverlay.bind(this))\r\n    $(document).on('keydown', this.keyPressDispatcher.bind(this))\r\n    this.searchField.on('keyup', this.typingLogic.bind(this))\r\n  }\r\n\r\n  // 3. methods (function, action...)\r\n  typingLogic() {\r\n    if (this.searchField.val() != this.previousValue) {\r\n      clearTimeout(this.typingTimer)\r\n      if (this.searchField.val()) {\r\n        if (!this.isSpinnerVisible) {\r\n          this.resultsDiv.html(`\r\n            <div class=\"d-flex justify-content-center\">\r\n              <div class=\"spinner-border\" role=\"status\">\r\n                <span class=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n            `)\r\n          this.isSpinnerVisible = true\r\n        }\r\n        this.typingTimer = setTimeout(this.getResults.bind(this), 750)\r\n      } else {\r\n        this.resultsDiv.html(`\r\n        <h2></h2>\r\n        `)\r\n        this.isSpinnerVisible = false\r\n      }\r\n    }\r\n    this.previousValue = this.searchField.val() // get the value of the search field\r\n  }\r\n\r\n  getResults() {\r\n    $.when(\r\n      $.getJSON(\r\n        data.root_url + '/wp-json/wp/v2/posts?search=' + this.searchField.val()\r\n      ),\r\n      $.getJSON(\r\n        data.root_url + '/wp-json/wp/v2/pages?search=' + this.searchField.val()\r\n      )\r\n    ).then(\r\n      (posts, pages) => {\r\n        let resultadosCombinados = posts[0].concat(pages[0])\r\n        this.resultsDiv.html(`\r\n        <h2>Informações Gerais</h2>\r\n        ${\r\n          resultadosCombinados.length\r\n            ? '<ul class=\"results-list\">'\r\n            : '<p>Não há resultados</p>'\r\n        }\r\n          ${resultadosCombinados\r\n            .map(\r\n              item =>\r\n                `<li>\r\n                  <a href=\"${item.link}\">\r\n                    ${item.title.rendered}\r\n                  </a>  ${item.type == 'post' ? `by ${item.authorName}` : ''}\r\n                </li>`\r\n            )\r\n            .join('')}\r\n        ${resultadosCombinados.length ? '</ul>' : ''}\r\n        `)\r\n        this.isSpinnerVisible = false\r\n      },\r\n      () => {\r\n        this.resultsDiv.html(\r\n          '<p>Algo deu errado, por favor tente novamente.</p>'\r\n        )\r\n      }\r\n    )\r\n  }\r\n\r\n  keyPressDispatcher(e) {\r\n    if (\r\n      e.keyCode == 83 &&\r\n      !this.isOverlayOpen &&\r\n      !$('input, textarea').is(':focus')\r\n    ) {\r\n      this.openOverlay()\r\n    }\r\n\r\n    if (e.keyCode == 27 && this.isOverlayOpen) {\r\n      this.closeOverlay()\r\n    }\r\n  }\r\n\r\n  openOverlay() {\r\n    this.searchOverlay.removeClass('d-none')\r\n    $('body').addClass('body-no-scroll')\r\n    this.searchField.val('')\r\n    console.log('our open method just ran!')\r\n    this.isOverlayOpen = true\r\n    setTimeout(() => this.searchField.focus(), 300)\r\n  }\r\n\r\n  closeOverlay() {\r\n    this.searchOverlay.addClass('d-none')\r\n    $('body').removeClass('body-no-scroll')\r\n    console.log('our close method just ran!')\r\n    this.isOverlayOpen = false\r\n  }\r\n\r\n  addSearchHTML() {\r\n    $('body').append(`\r\n    <div class=\"container-fluid search-overlay d-none\">\r\n      <div class=\"row mt-5\">\r\n        <div class=\"col-12 d-flex flex-row\">\r\n          <input class=\"form-control me-2 search-term\"\r\n            type=\"search\"\r\n            placeholder=\"What are you looking for?\"\r\n            aria-label=\"Pesquisar\" id=\"search-term\"\r\n            autocomplete=\"off\"\r\n          />\r\n          <span class=\"btn btn-outline-success search-overlay_close\" type=\"submit\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\" search-overlay_icon>\r\n              <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n            </svg>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-5 text-white\">\r\n        <div id=\"search-results\" class=\"col-12\">\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n    `)\r\n  }\r\n}\r\n\r\nexport default Search\r\n","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","//import '../css/style.scss'\r\n\r\n// Our modules / classes\r\n//import GoogleMap from './modules/GoogleMap'\r\nimport Search from './modules/Search'\r\n\r\n// Instantiate a new object using our modules/classes\r\n//const googleMap = new GoogleMap()\r\nconst search = new Search()\r\n"],"names":["$","Search","constructor","addSearchHTML","resultsDiv","openButton","closeButton","searchOverlay","searchField","events","isOverlayOpen","isSpinnerVisible","previousValue","typingTimer","on","openOverlay","bind","closeOverlay","document","keyPressDispatcher","typingLogic","val","clearTimeout","html","setTimeout","getResults","when","getJSON","data","root_url","then","posts","pages","resultadosCombinados","concat","length","map","item","link","title","rendered","type","authorName","join","e","keyCode","is","removeClass","addClass","console","log","focus","append","search"],"sourceRoot":""}